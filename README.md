# CzechFOI-TIME

## Czech FOI data analysis

A solution that makes it easy to analyse, calculate and visualise FOI data in many ways.  
Requires a certain IT affinity, but is simpler, faster and more flexible than using a spreadsheet.

The resulting 2D diagrams are interactive HTML files  - more analyses will follow.
<br>To deselct all curves, double-click on a legend entry. To show a curve click onec on the legend entry. 
<br>You can download them from the [Plot Results Folder](https://github.com/gitfrid/CzechFOI-TIME/tree/main/Plot%20Results)

<br>**Example of an interactive plot of the Czech FOI data <br>Age group comparison pearson correlation 1st derivative same scale: 75-79 vs 35-39**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AG)%202D%204Axis%20age-compare%20pearson%20same%20scale%201D%20all%20POP-D%20N-CUM-D%20NORM%20AVGWD_14%20CORRWD_50/AG)%202D%204Axis%20age-compare%20pearson%20same%20scale%201D%20all%20POP-D%20N-CUM-D%20NORM%20AVGWD_14%20CORRWD_50%20AG_75-79%20vs%2080-84.png width="600" height="auto">
<br>

<br>**Example Age group comparison pearson correlation 1st D. differente scale: 75-79 vs 35-39<br>All data selected:**

_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AG)%202D%204Axis%20age-compare%20pearson%20different%20scale%201D%20all%20POP-D%20N-CUM-D%20NORM%20AVGWD_14%20CORRWD_50/AG)%202D%204Axis%20age-compare%20pearson%20different%20scale%201D%20all%20POP-D%20N-CUM-D%20NORM%20AVGWD_14%20CORRWD_50%20AG_75-79%20vs%2035-39.png width="600" height="auto">
<br>

<br>**Example PVT_NUM_D PVT_NUM_VD CUM NORM: 15-19**
<br>death subtracted from population
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/420e3fdf6ec39fe580fc2d98e00da2302cce4fb6/Plot%20Results/AF)%202D%204Axis%20calc-cum%20pop-minus-d%20cum-d-norm%20all%20PVT_NUM_D%20PVT_NUM_VD%20CUM%20NORM/Screenshot%2015-19.png width="600" height="auto">
<br>

<br>**Example of PVT_NUM_D PVT_NUM_VD CUM NORM: 90-94**
<br>death subtracted from population
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/420e3fdf6ec39fe580fc2d98e00da2302cce4fb6/Plot%20Results/AF)%202D%204Axis%20calc-cum%20pop-minus-d%20cum-d-norm%20all%20PVT_NUM_D%20PVT_NUM_VD%20CUM%20NORM/Screenshot%2090-94.png width="600" height="auto">
<br>

<br>**Example PVT_NUM_VD CUM NORM: 15-19**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AE)%202D%204Axis%20calc-cum%20cum-d-norm%20all%20PVT_NUM_D%20PVT_NUM_VD%20CUM%20NORM/Screenshot%2015-19.png width="600" height="auto">
<br>

<br>**Example PVT_NUM_VD CUM NORM: 90-94**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AE)%202D%204Axis%20calc-cum%20cum-d-norm%20all%20PVT_NUM_D%20PVT_NUM_VD%20CUM%20NORM/Screenshot%2090-94.png width="600" height="auto">
<br>

<br>**Example rolling cross correlation: 75-79**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AG)%202D%204Axis%20correl%20CCF%20xarray%20all%20POP-D%20N-CUM-D%20N%20AVG_14%20CORR_50%20LAG_1500%20ANUM_VDA-ANUM_DVX%20ANUM_VDA-ANUM_DUVX%20ANUM_VDA-ANUM_D/AG)%202D%204Axis%20correl%20CCF%20xarray%20all%20POP-D%20N-CUM-D%20N%20AVG_14%20CORR_50%20LAG_1500%20ANUM_VDA-ANUM_DVX%20ANUM_VDA-ANUM_DUVX%20ANUM_VDA-ANUM_D%20AG_75-79.png width="600" height="auto">
<br>

<br>**Example rolling pearson correlation: 75-79**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AG)%202D%204Axis%20correl%20pearson%20all%20NORM%20AVGWD_14%20CORRWD_50/AG)%202D%204Axis%20correl%20pearson%20all%20NORM%20AVGWD_14%20CORRWD_50%20AG_75-79.png width="600" height="auto">
<br>

<br>**Example rolling correlation significance test: 75-79**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AG)%202D%204Axis%20significance%20xarray%20all%20POP-D%20N-CUM-D%20N%20AVG_14%20CORR_50%20ANUM_VDA-ANUM_DVX%20ANUM_VDA-ANUM_DUVX%20ANUM_VDA-ANUM_D/AG)%202D%204Axis%20significance%20xarray%20all%20POP-D%20N-CUM-D%20N%20AVG_14%20CORR_50%20ANUM_VDA-ANUM_DVX%20ANUM_VDA-ANUM_DUVX%20ANUM_VDA-ANUM_D%20AG_75-79.png width="600" height="auto">
<br>

<br>**Example cross recurrence: 75-79**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AG)%202D%204Axis%20cross%20recurrence%20xarray%20all%20POP-D%20AVG_14%20RP_treshold_0.25%20NUM_VDA-NUM_DVX%20NUM_VDA-NUM_DUVX%20NUM_VDA-NUM_D/AG)%202D%204Axis%20cross%20recurrence%20xarray%20all%20POP-D%20AVG_14%20RP_treshold_0.25%20NUM_VDA-NUM_DVX%20NUM_VDA-NUM_DUVX%20NUM_VDA-NUM_D%20AG_75-79.png width="600" height="auto">
<br>

<br>**Example rolling pearson 1st derivate: 75-79**
_________________________________________
<br>
<img src=https://github.com/gitfrid/CzechFOI-TIME/blob/main/Plot%20Results/AG)%202D%204Axis%20derivate%20pearson%201D%20all%20POP-D%20N-CUM-D%20NORM%20AVGWD_14%20CORRWD_50/AG)%202D%204Axis%20derivate%20pearson%201D%20all%20POP-D%20N-CUM-D%20NORM%20AVGWD_14%20CORRWD_50%20AG_75-79.png width="600" height="auto">
<br>

The original Czech FOI data, obtained through a Freedom of Information request, 
<br>The file Vesely_106_202403141131.CSV can be downloaded at [FOI Link](https://github.com/PalackyUniversity/uzis-data-analysis/blob/main/data/Vesely_106_202403141131.tar.xz)

To import view and edit the FOI data in a SQlite database, you can use **DB Browser for SQLite**.

Dates are counted as the number of days from 1 January 2020, as an integer number is easier to handle in the Python scripts than a date.
AGE_2023 stands for the age at 1 January 2023, calculated from the year of birth. Norm means that the data has been normalised per 100000 to make it comparable.

The required views were processed using the file [All SQL Time.sql](https://github.com/gitfrid/CzechFOI-TIME/blob/main/SQLQueries/All%20SQL%20Time.sql), 
<br>and the resulting views were manually exported to CSV files to the [TERRA folder](https://github.com/gitfrid/CzechFOI-TIME/tree/main/TERRA) 

The [Phyton Scripts](https://github.com/gitfrid/CzechFOI-TIME/tree/main/Py%20Scripts) analyse and visualise these csv data, and saves the plot result as interactive html files.

<br>**Software Download Links:**
<br>[DB Browser for SQLite 3.13.0](https://sqlitebrowser.org/dl/) to create a Database, run SQL querys and csv export.
<br>[Phyton 3.12.5](https://www.python.org/downloads/) to execute the pyton scripts ans plot the CSV data. 
<br>[Visual Studio Code 1.92.2](https://code.visualstudio.com/download) to edit and run the phyton script.

<br>**Disclaimer: The result has not been checked for errors!
<br>Neither methodological nor technical, no checks or cleansing of the raw data were carried out.** 


